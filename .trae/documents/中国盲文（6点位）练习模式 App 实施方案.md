## 目标
- 实现“练习模式”：App 播放发音，用户在 6 点位盲文面板上点击对应点位，系统判定正误并给出反馈。
- 支持快速上手的原型（可在浏览器运行，适配手机屏幕），后续可扩展到原生 App。

## 技术栈（原型优先）
- Web PWA（React + TypeScript + Vite）：开发效率高、易部署、易适配触控；可离线缓存音频。
- 音频：优先使用浏览器 `SpeechSynthesis` 做 TTS 中文发音，必要时切换为预置 MP3。
- 状态管理：轻量（React hooks），必要时引入 `zustand`。

## 数据模型
- 统一 6 点位编号：
  - 上左=1，上右=4；中左=2，中右=5；下左=3，下右=6。
- 练习条目 `PracticeItem`：
  - `id`：唯一标识
  - `label`：练习对象（如音节/字/基础单位的名称），显示与 TTS 文本
  - `dots`：长度为 6 的布尔数组（如 `[true,false,true,false,false,false]`）
  - `audioUrl?`：可选，若使用录音
- 数据来源：从国家/行业标准整理汉语盲文基础单位（首期先覆盖常用音节/部件，逐步扩充）。

## 练习流程（状态机）
- `idle → playing → input → result → next`：
  - `playing`：播放发音（TTS 或音频），禁用输入
  - `input`：用户点击 6 点位设置图案；支持重置与提交
  - `result`：比较用户 `dots` 与标准 `dots`，给出正确/错误反馈；可显示差异（错误点高亮）
  - `next`：进入下一条目；支持“跳过/重听”
- 记分：正确 +1，错误 0；统计连对次数与用时（可选）。

## UI 设计
- 盲文面板（2 列 × 3 行）可点击圆点：
  - 选中状态明显（填充/高亮/震动），支持键盘与触控
  - 大尺寸点击区域（移动端友好）
- 顶部区域：当前练习对象、播放/重听、提交、重置、下一题
- 反馈区：正确/错误提示、差异可视化（把用户选择与标准对比）
- 无障碍：ARIA 标签、屏幕阅读器朗读按钮状态与结果；可选振动反馈（移动端）。

## 音频方案
- 方案 A：`SpeechSynthesis` TTS 中文发音（首选，零资源）
  - 选择中文语音（如 `zh-CN`），支持“重听”与队列管理
- 方案 B：预置音频文件（MP3）
  - `public/audio/<id>.mp3`；离线可用；需资源管理与缓存

## 校验逻辑
- 点位比较：逐位比对用户 `dots` 与标准 `dots`，全部一致判定正确
- 错误高亮：将错误点（应选未选、误选）以不同颜色提示
- 防抖：点击切换状态需防抖/节流，避免误触

## 边界与易用性
- 重听与跳过：允许重复播放与直接跳过，不影响记分（或按配置）
- 题目集：支持“基础集/进阶集”选择；随机或顺序模式
- 屏幕适配：移动端优先；最小可点区域≥44px；深浅色主题

## 可扩展方向
- 多单元盲文（汉语音节可能由多个 6 点位单元组成）：后续扩展为序列练习（多格输入）
- 课程模式：分章节授课、示例与讲解、闯关与复习计划
- 云同步：用户进度与错题本（后期引入后端）

## 目录结构（建议）
- `src/`
  - `main.tsx`：入口
  - `App.tsx`：路由/模式切换（先只有练习模式）
  - `components/BraillePad.tsx`：6 点位面板
  - `components/Controls.tsx`：播放/提交/重置
  - `modules/practice/PracticeView.tsx`：练习流程与状态机
  - `data/brailleCN.ts`：练习数据（首期基础集）
  - `utils/audio.ts`：TTS/音频封装
  - `utils/braille.ts`：点位比较与差异计算
- `public/audio/`：可选 MP3 资源

## 验证与质量
- 单元测试：`utils/braille.ts` 的比对逻辑与差异高亮
- 交互测试：点击面板、提交、正确/错误反馈流程
- PWA：安装与离线可用（可选）

## 首批交付内容
- 可运行的练习原型（含 10–20 个基础练习条目、TTS 发音）
- 盲文面板交互、正确性校验、反馈与记分
- 简易配置（是否随机、是否显示差异高亮）

## 后续里程碑
- 扩展到汉语盲文序列输入（多格）
- 引入更完整的练习数据集与课程模式
- 选择移动端方案（React Native/Flutter）并共享数据与逻辑封装